[{"/home/bohdan/Desktop/work/GH/battleships-game/src/index.js":"1","/home/bohdan/Desktop/work/GH/battleships-game/src/App.js":"2","/home/bohdan/Desktop/work/GH/battleships-game/src/components/Header.js":"3","/home/bohdan/Desktop/work/GH/battleships-game/src/components/GameBoard.js":"4","/home/bohdan/Desktop/work/GH/battleships-game/src/components/ComputerGrid.js":"5","/home/bohdan/Desktop/work/GH/battleships-game/src/components/PlayerGrid.js":"6","/home/bohdan/Desktop/work/GH/battleships-game/src/components/InfoBoard.js":"7","/home/bohdan/Desktop/work/GH/battleships-game/src/components/ComputerSquare.js":"8","/home/bohdan/Desktop/work/GH/battleships-game/src/components/PlayerSquare.js":"9"},{"size":218,"mtime":1648040209701,"results":"10","hashOfConfig":"11"},{"size":290,"mtime":1648040292982,"results":"12","hashOfConfig":"11"},{"size":481,"mtime":1645537191000,"results":"13","hashOfConfig":"11"},{"size":8649,"mtime":1647889705000,"results":"14","hashOfConfig":"11"},{"size":2916,"mtime":1647885914000,"results":"15","hashOfConfig":"11"},{"size":4283,"mtime":1647970005000,"results":"16","hashOfConfig":"11"},{"size":3076,"mtime":1648036122000,"results":"17","hashOfConfig":"11"},{"size":835,"mtime":1648035926000,"results":"18","hashOfConfig":"11"},{"size":930,"mtime":1647970003000,"results":"19","hashOfConfig":"11"},{"filePath":"20","messages":"21","suppressedMessages":"22","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"mwx3fs",{"filePath":"23","messages":"24","suppressedMessages":"25","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"26","messages":"27","suppressedMessages":"28","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"29","messages":"30","suppressedMessages":"31","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"32"},{"filePath":"33","messages":"34","suppressedMessages":"35","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"36","messages":"37","suppressedMessages":"38","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"39","messages":"40","suppressedMessages":"41","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"42","messages":"43","suppressedMessages":"44","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"45","messages":"46","suppressedMessages":"47","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/home/bohdan/Desktop/work/GH/battleships-game/src/index.js",[],[],"/home/bohdan/Desktop/work/GH/battleships-game/src/App.js",[],[],"/home/bohdan/Desktop/work/GH/battleships-game/src/components/Header.js",[],[],"/home/bohdan/Desktop/work/GH/battleships-game/src/components/GameBoard.js",["48"],[],"import React, { useEffect } from 'react';\r\nimport { useState } from 'react';\r\nimport PlayerGrid from './PlayerGrid';\r\nimport ComputerGrid from './ComputerGrid';\r\nimport InfoBoard from './InfoBoard';\r\n\r\nconst GameBoard = () => {\r\n  const [playerGameGrid, setPlayerGameGrid] = useState([\r\n    ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],\r\n    ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],\r\n    ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],\r\n    ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],\r\n    ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],\r\n    ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],\r\n    ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],\r\n    ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],\r\n    ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],\r\n    ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.']\r\n  ]);\r\n\r\n  const [playerShipYard, setPlayerShipYard] = useState([\r\n    {shipNumber: 0, shipLength: 5, shipName: 'Aircraft Carrier', hitNumber: 0, sunkStatus: false},\r\n    {shipNumber: 1, shipLength: 4, shipName: 'Battleship',  hitNumber: 0, sunkStatus: false},\r\n    {shipNumber: 2, shipLength: 3, shipName: 'Submarine',  hitNumber: 0, sunkStatus: false},\r\n    {shipNumber: 3, shipLength: 3, shipName: 'Cruiser',  hitNumber: 0, sunkStatus: false},\r\n    {shipNumber: 4, shipLength: 2, shipName: 'Destroyer',  hitNumber: 0, sunkStatus: false}\r\n  ]);\r\n\r\n  const [computerGameGrid, setComputerGameGrid] = useState([\r\n    ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],\r\n    ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],\r\n    ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],\r\n    ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],\r\n    ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],\r\n    ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],\r\n    ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],\r\n    ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],\r\n    ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],\r\n    ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.']\r\n  ]);\r\n\r\n  const [computerShipYard, setComputerShipYard] = useState([\r\n    {shipNumber: 0, shipLength: 5, shipName: 'Aircraft Carrier', hitNumber: 0, sunkStatus: false},\r\n    {shipNumber: 1, shipLength: 4, shipName: 'Battleship',  hitNumber: 0, sunkStatus: false},\r\n    {shipNumber: 2, shipLength: 3, shipName: 'Submarine',  hitNumber: 0, sunkStatus: false},\r\n    {shipNumber: 3, shipLength: 3, shipName: 'Cruiser',  hitNumber: 0, sunkStatus: false},\r\n    {shipNumber: 4, shipLength: 2, shipName: 'Destroyer',  hitNumber: 0, sunkStatus: false}\r\n  ]);\r\n\r\n  const [playerPlacedShipsNumber, setPlayerPlacedShipsNumber] = useState(0);\r\n\r\n  const [winnerInfo, setWinnerInfo] = useState('');\r\n\r\n  const computerShipPlacementHandler = () => {\r\n    \r\n    const computerGameGridCopy = [\r\n      ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],\r\n      ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],\r\n      ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],\r\n      ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],\r\n      ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],\r\n      ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],\r\n      ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],\r\n      ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],\r\n      ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],\r\n      ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.']\r\n    ];\r\n\r\n    let placedShipsNumber = 0;\r\n\r\n    while (placedShipsNumber !== 5) {\r\n      let shipLength = computerShipYard[placedShipsNumber].shipLength;\r\n      let rowIndex = Math.floor(Math.random() * 10);\r\n      let columnIndex = Math.floor(Math.random() * 10);\r\n      let shipDirection = Math.floor(Math.random() * 10);\r\n\r\n      if (isPlacementAllowed(computerGameGridCopy, rowIndex, columnIndex, shipLength, shipDirection)) {\r\n        if (shipDirection%2 === 0) {\r\n          for (let i = 0; i < shipLength; i++) {\r\n            computerGameGridCopy[rowIndex] = [...computerGameGridCopy[rowIndex]];\r\n            computerGameGridCopy[rowIndex][columnIndex + i] = computerShipYard[placedShipsNumber].shipNumber;\r\n          }\r\n        } else {\r\n          for (let i = 0; i < shipLength; i++) {\r\n            computerGameGridCopy[rowIndex + i] = [...computerGameGridCopy[rowIndex + i]];\r\n            computerGameGridCopy[rowIndex + i][columnIndex] = computerShipYard[placedShipsNumber].shipNumber;\r\n          }\r\n        }\r\n        placedShipsNumber++;\r\n      }\r\n    }\r\n    setComputerGameGrid([...computerGameGridCopy]);\r\n  }\r\n\r\n  const isPlacementAllowed = (gameGrid, rowIndex, columnIndex, shipLength, shipDirection) => {\r\n    let checkNumber = 0;\r\n\r\n    if (shipDirection%2 === 0) {\r\n      if ((columnIndex + shipLength) > 10) {\r\n        return false;\r\n      }\r\n\r\n      for (let i = 0; i < shipLength; i++) {\r\n        if (isSquareFree(gameGrid, rowIndex, columnIndex + i)) {\r\n          checkNumber++;\r\n        }\r\n      }\r\n      if (checkNumber === shipLength) {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n\r\n    } else {\r\n      if ((rowIndex + shipLength) > 10) {\r\n        return false;\r\n      }\r\n\r\n      for (let i = 0; i < shipLength; i++) {\r\n        if (isSquareFree(gameGrid, rowIndex + i, columnIndex)) {\r\n          checkNumber++;\r\n        }\r\n      }\r\n      if (checkNumber === shipLength) {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    }\r\n  }\r\n\r\n  const isSquareFree = (gameGrid, rowIndex, columnIndex) => {\r\n    for (let i = -1; i <= 1; i++) {\r\n      for (let j = -1; j <= 1; j++) {\r\n        if (gameGrid[rowIndex + i] !== undefined && gameGrid[rowIndex + i][columnIndex + j] !== undefined) {\r\n          if (gameGrid[rowIndex + i][columnIndex + j] >= 0) {\r\n            return false;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n\r\n  useEffect(() => {\r\n    computerShipPlacementHandler();\r\n  }, [])\r\n\r\n  const computerShotGenerator = () => {\r\n    const rowIndexRandom = Math.floor(Math.random() * 10);\r\n    const columnIndexRandom = Math.floor(Math.random() * 10);\r\n\r\n    if (playerGameGrid[rowIndexRandom][columnIndexRandom] === 'M' || playerGameGrid[rowIndexRandom][columnIndexRandom] === 'X') {\r\n      computerShotGenerator();\r\n    } else {\r\n      const playerGameGridCopy = [...playerGameGrid];\r\n      playerGameGridCopy[rowIndexRandom] = [...playerGameGridCopy[rowIndexRandom]];\r\n      if (playerGameGrid[rowIndexRandom][columnIndexRandom] === '.') {\r\n        playerGameGridCopy[rowIndexRandom][columnIndexRandom] = 'M';\r\n        setPlayerGameGrid([...playerGameGridCopy]);\r\n      } else {\r\n        playerShipHitHandler(playerGameGridCopy[rowIndexRandom][columnIndexRandom]);\r\n        playerGameGridCopy[rowIndexRandom][columnIndexRandom] = 'X';\r\n        setPlayerGameGrid([...playerGameGridCopy]);\r\n      }\r\n    }\r\n  }\r\n\r\n  const playerShipHitHandler = (shipNumber) => {\r\n    const playerShipYardCopy = [...playerShipYard];\r\n    const hitNumberCopy = playerShipYardCopy[shipNumber].hitNumber;\r\n    playerShipYardCopy[shipNumber] = {...playerShipYardCopy[shipNumber], hitNumber: hitNumberCopy + 1};\r\n\r\n    if (playerShipYardCopy[shipNumber].hitNumber === playerShipYardCopy[shipNumber].shipLength) {\r\n      playerShipYardCopy[shipNumber] = {...playerShipYardCopy[shipNumber], sunkStatus: true};\r\n    }\r\n    setPlayerShipYard(playerShipYardCopy);\r\n  }\r\n\r\n  return (\r\n    <div className='gameBoard'>\r\n      <InfoBoard \r\n        setPlayerGameGrid={setPlayerGameGrid}\r\n        setPlayerShipYard={setPlayerShipYard}\r\n        setComputerGameGrid={setComputerGameGrid}\r\n        setComputerShipYard={setComputerShipYard}\r\n        setPlayerPlacedShipsNumber={setPlayerPlacedShipsNumber}\r\n        winnerInfo={winnerInfo}\r\n        setWinnerInfo={setWinnerInfo}\r\n        computerShipPlacementHandler={computerShipPlacementHandler}\r\n      />\r\n      <PlayerGrid \r\n        playerGameGrid={playerGameGrid}\r\n        setPlayerGameGrid={setPlayerGameGrid}\r\n        playerShipYard={playerShipYard}\r\n        setPlayerShipYard={setPlayerShipYard}\r\n        playerPlacedShipsNumber={playerPlacedShipsNumber}\r\n        setPlayerPlacedShipsNumber={setPlayerPlacedShipsNumber}\r\n        setWinnerInfo={setWinnerInfo}\r\n      />\r\n      <ComputerGrid\r\n        computerGameGrid={computerGameGrid}\r\n        setComputerGameGrid={setComputerGameGrid}\r\n        computerShipYard={computerShipYard}\r\n        setComputerShipYard={setComputerShipYard}\r\n        computerShotGenerator={computerShotGenerator}\r\n        playerPlacedShipsNumber={playerPlacedShipsNumber}\r\n        winnerInfo={winnerInfo}\r\n        setWinnerInfo={setWinnerInfo}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GameBoard;","/home/bohdan/Desktop/work/GH/battleships-game/src/components/ComputerGrid.js",[],["49"],"/home/bohdan/Desktop/work/GH/battleships-game/src/components/PlayerGrid.js",[],["50"],"/home/bohdan/Desktop/work/GH/battleships-game/src/components/InfoBoard.js",[],[],"/home/bohdan/Desktop/work/GH/battleships-game/src/components/ComputerSquare.js",[],[],"/home/bohdan/Desktop/work/GH/battleships-game/src/components/PlayerSquare.js",[],[],{"ruleId":"51","severity":1,"message":"52","line":147,"column":6,"nodeType":"53","endLine":147,"endColumn":8,"suggestions":"54"},{"ruleId":"51","severity":1,"message":"55","line":43,"column":6,"nodeType":"53","endLine":43,"endColumn":24,"suggestions":"56","suppressions":"57"},{"ruleId":"51","severity":1,"message":"55","line":101,"column":6,"nodeType":"53","endLine":101,"endColumn":22,"suggestions":"58","suppressions":"59"},"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'computerShipPlacementHandler'. Either include it or remove the dependency array.","ArrayExpression",["60"],"React Hook useEffect has a missing dependency: 'setWinnerInfo'. Either include it or remove the dependency array. If 'setWinnerInfo' changes too often, find the parent component that defines it and wrap that definition in useCallback.",["61"],["62"],["63"],["64"],{"desc":"65","fix":"66"},{"desc":"67","fix":"68"},{"kind":"69","justification":"70"},{"desc":"71","fix":"72"},{"kind":"69","justification":"70"},"Update the dependencies array to be: [computerShipPlacementHandler]",{"range":"73","text":"74"},"Update the dependencies array to be: [computerShipYard, setWinnerInfo]",{"range":"75","text":"76"},"directive","","Update the dependencies array to be: [playerShipYard, setWinnerInfo]",{"range":"77","text":"78"},[5882,5884],"[computerShipPlacementHandler]",[2007,2025],"[computerShipYard, setWinnerInfo]",[3299,3315],"[playerShipYard, setWinnerInfo]"]