{"ast":null,"code":"import _objectSpread from\"/home/bohdan/Desktop/work/GH/battleships-game/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"/home/bohdan/Desktop/work/GH/battleships-game/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/home/bohdan/Desktop/work/GH/battleships-game/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect}from'react';import{useState}from'react';import PlayerGrid from'./PlayerGrid';import ComputerGrid from'./ComputerGrid';import InfoBoard from'./InfoBoard';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var GameBoard=function GameBoard(){var _useState=useState([['.','.','.','.','.','.','.','.','.','.'],['.','.','.','.','.','.','.','.','.','.'],['.','.','.','.','.','.','.','.','.','.'],['.','.','.','.','.','.','.','.','.','.'],['.','.','.','.','.','.','.','.','.','.'],['.','.','.','.','.','.','.','.','.','.'],['.','.','.','.','.','.','.','.','.','.'],['.','.','.','.','.','.','.','.','.','.'],['.','.','.','.','.','.','.','.','.','.'],['.','.','.','.','.','.','.','.','.','.']]),_useState2=_slicedToArray(_useState,2),playerGameGrid=_useState2[0],setPlayerGameGrid=_useState2[1];var _useState3=useState([{shipNumber:0,shipLength:5,shipName:'Aircraft Carrier',hitNumber:0,sunkStatus:false},{shipNumber:1,shipLength:4,shipName:'Battleship',hitNumber:0,sunkStatus:false},{shipNumber:2,shipLength:3,shipName:'Submarine',hitNumber:0,sunkStatus:false},{shipNumber:3,shipLength:3,shipName:'Cruiser',hitNumber:0,sunkStatus:false},{shipNumber:4,shipLength:2,shipName:'Destroyer',hitNumber:0,sunkStatus:false}]),_useState4=_slicedToArray(_useState3,2),playerShipYard=_useState4[0],setPlayerShipYard=_useState4[1];var _useState5=useState([['.','.','.','.','.','.','.','.','.','.'],['.','.','.','.','.','.','.','.','.','.'],['.','.','.','.','.','.','.','.','.','.'],['.','.','.','.','.','.','.','.','.','.'],['.','.','.','.','.','.','.','.','.','.'],['.','.','.','.','.','.','.','.','.','.'],['.','.','.','.','.','.','.','.','.','.'],['.','.','.','.','.','.','.','.','.','.'],['.','.','.','.','.','.','.','.','.','.'],['.','.','.','.','.','.','.','.','.','.']]),_useState6=_slicedToArray(_useState5,2),computerGameGrid=_useState6[0],setComputerGameGrid=_useState6[1];var _useState7=useState([{shipNumber:0,shipLength:5,shipName:'Aircraft Carrier',hitNumber:0,sunkStatus:false},{shipNumber:1,shipLength:4,shipName:'Battleship',hitNumber:0,sunkStatus:false},{shipNumber:2,shipLength:3,shipName:'Submarine',hitNumber:0,sunkStatus:false},{shipNumber:3,shipLength:3,shipName:'Cruiser',hitNumber:0,sunkStatus:false},{shipNumber:4,shipLength:2,shipName:'Destroyer',hitNumber:0,sunkStatus:false}]),_useState8=_slicedToArray(_useState7,2),computerShipYard=_useState8[0],setComputerShipYard=_useState8[1];var _useState9=useState(0),_useState10=_slicedToArray(_useState9,2),playerPlacedShipsNumber=_useState10[0],setPlayerPlacedShipsNumber=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),winnerInfo=_useState12[0],setWinnerInfo=_useState12[1];var computerShipPlacementHandler=function computerShipPlacementHandler(){var computerGameGridCopy=[['.','.','.','.','.','.','.','.','.','.'],['.','.','.','.','.','.','.','.','.','.'],['.','.','.','.','.','.','.','.','.','.'],['.','.','.','.','.','.','.','.','.','.'],['.','.','.','.','.','.','.','.','.','.'],['.','.','.','.','.','.','.','.','.','.'],['.','.','.','.','.','.','.','.','.','.'],['.','.','.','.','.','.','.','.','.','.'],['.','.','.','.','.','.','.','.','.','.'],['.','.','.','.','.','.','.','.','.','.']];var placedShipsNumber=0;while(placedShipsNumber!==5){var shipLength=computerShipYard[placedShipsNumber].shipLength;var rowIndex=Math.floor(Math.random()*10);var columnIndex=Math.floor(Math.random()*10);var shipDirection=Math.floor(Math.random()*10);if(isPlacementAllowed(computerGameGridCopy,rowIndex,columnIndex,shipLength,shipDirection)){if(shipDirection%2===0){for(var i=0;i<shipLength;i++){computerGameGridCopy[rowIndex]=_toConsumableArray(computerGameGridCopy[rowIndex]);computerGameGridCopy[rowIndex][columnIndex+i]=computerShipYard[placedShipsNumber].shipNumber;}}else{for(var _i=0;_i<shipLength;_i++){computerGameGridCopy[rowIndex+_i]=_toConsumableArray(computerGameGridCopy[rowIndex+_i]);computerGameGridCopy[rowIndex+_i][columnIndex]=computerShipYard[placedShipsNumber].shipNumber;}}placedShipsNumber++;}}setComputerGameGrid([].concat(computerGameGridCopy));};var isPlacementAllowed=function isPlacementAllowed(gameGrid,rowIndex,columnIndex,shipLength,shipDirection){var checkNumber=0;if(shipDirection%2===0){if(columnIndex+shipLength>10){return false;}for(var i=0;i<shipLength;i++){if(isSquareFree(gameGrid,rowIndex,columnIndex+i)){checkNumber++;}}if(checkNumber===shipLength){return true;}else{return false;}}else{if(rowIndex+shipLength>10){return false;}for(var _i2=0;_i2<shipLength;_i2++){if(isSquareFree(gameGrid,rowIndex+_i2,columnIndex)){checkNumber++;}}if(checkNumber===shipLength){return true;}else{return false;}}};var isSquareFree=function isSquareFree(gameGrid,rowIndex,columnIndex){for(var i=-1;i<=1;i++){for(var j=-1;j<=1;j++){if(gameGrid[rowIndex+i]!==undefined&&gameGrid[rowIndex+i][columnIndex+j]!==undefined){if(gameGrid[rowIndex+i][columnIndex+j]>=0){return false;}}}}return true;};useEffect(function(){computerShipPlacementHandler();},[]);var computerShotGenerator=function computerShotGenerator(){var rowIndexRandom=Math.floor(Math.random()*10);var columnIndexRandom=Math.floor(Math.random()*10);if(playerGameGrid[rowIndexRandom][columnIndexRandom]==='M'||playerGameGrid[rowIndexRandom][columnIndexRandom]==='X'){computerShotGenerator();}else{var playerGameGridCopy=_toConsumableArray(playerGameGrid);playerGameGridCopy[rowIndexRandom]=_toConsumableArray(playerGameGridCopy[rowIndexRandom]);if(playerGameGrid[rowIndexRandom][columnIndexRandom]==='.'){playerGameGridCopy[rowIndexRandom][columnIndexRandom]='M';setPlayerGameGrid(_toConsumableArray(playerGameGridCopy));}else{playerShipHitHandler(playerGameGridCopy[rowIndexRandom][columnIndexRandom]);playerGameGridCopy[rowIndexRandom][columnIndexRandom]='X';setPlayerGameGrid(_toConsumableArray(playerGameGridCopy));}}};var playerShipHitHandler=function playerShipHitHandler(shipNumber){var playerShipYardCopy=_toConsumableArray(playerShipYard);var hitNumberCopy=playerShipYardCopy[shipNumber].hitNumber;playerShipYardCopy[shipNumber]=_objectSpread(_objectSpread({},playerShipYardCopy[shipNumber]),{},{hitNumber:hitNumberCopy+1});if(playerShipYardCopy[shipNumber].hitNumber===playerShipYardCopy[shipNumber].shipLength){playerShipYardCopy[shipNumber]=_objectSpread(_objectSpread({},playerShipYardCopy[shipNumber]),{},{sunkStatus:true});}setPlayerShipYard(playerShipYardCopy);};return/*#__PURE__*/_jsxs(\"div\",{className:\"gameBoard\",children:[/*#__PURE__*/_jsx(InfoBoard,{setPlayerGameGrid:setPlayerGameGrid,setPlayerShipYard:setPlayerShipYard,setComputerGameGrid:setComputerGameGrid,setComputerShipYard:setComputerShipYard,setPlayerPlacedShipsNumber:setPlayerPlacedShipsNumber,winnerInfo:winnerInfo,setWinnerInfo:setWinnerInfo,computerShipPlacementHandler:computerShipPlacementHandler}),/*#__PURE__*/_jsx(PlayerGrid,{playerGameGrid:playerGameGrid,setPlayerGameGrid:setPlayerGameGrid,playerShipYard:playerShipYard,setPlayerShipYard:setPlayerShipYard,playerPlacedShipsNumber:playerPlacedShipsNumber,setPlayerPlacedShipsNumber:setPlayerPlacedShipsNumber,setWinnerInfo:setWinnerInfo}),/*#__PURE__*/_jsx(ComputerGrid,{computerGameGrid:computerGameGrid,setComputerGameGrid:setComputerGameGrid,computerShipYard:computerShipYard,setComputerShipYard:setComputerShipYard,computerShotGenerator:computerShotGenerator,playerPlacedShipsNumber:playerPlacedShipsNumber,winnerInfo:winnerInfo,setWinnerInfo:setWinnerInfo})]});};export default GameBoard;","map":{"version":3,"sources":["/home/bohdan/Desktop/work/GH/battleships-game/src/components/GameBoard.js"],"names":["React","useEffect","useState","PlayerGrid","ComputerGrid","InfoBoard","GameBoard","playerGameGrid","setPlayerGameGrid","shipNumber","shipLength","shipName","hitNumber","sunkStatus","playerShipYard","setPlayerShipYard","computerGameGrid","setComputerGameGrid","computerShipYard","setComputerShipYard","playerPlacedShipsNumber","setPlayerPlacedShipsNumber","winnerInfo","setWinnerInfo","computerShipPlacementHandler","computerGameGridCopy","placedShipsNumber","rowIndex","Math","floor","random","columnIndex","shipDirection","isPlacementAllowed","i","gameGrid","checkNumber","isSquareFree","j","undefined","computerShotGenerator","rowIndexRandom","columnIndexRandom","playerGameGridCopy","playerShipHitHandler","playerShipYardCopy","hitNumberCopy"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\r\nimport { useState } from 'react';\r\nimport PlayerGrid from './PlayerGrid';\r\nimport ComputerGrid from './ComputerGrid';\r\nimport InfoBoard from './InfoBoard';\r\n\r\nconst GameBoard = () => {\r\n  const [playerGameGrid, setPlayerGameGrid] = useState([\r\n    ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],\r\n    ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],\r\n    ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],\r\n    ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],\r\n    ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],\r\n    ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],\r\n    ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],\r\n    ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],\r\n    ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],\r\n    ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.']\r\n  ]);\r\n\r\n  const [playerShipYard, setPlayerShipYard] = useState([\r\n    {shipNumber: 0, shipLength: 5, shipName: 'Aircraft Carrier', hitNumber: 0, sunkStatus: false},\r\n    {shipNumber: 1, shipLength: 4, shipName: 'Battleship',  hitNumber: 0, sunkStatus: false},\r\n    {shipNumber: 2, shipLength: 3, shipName: 'Submarine',  hitNumber: 0, sunkStatus: false},\r\n    {shipNumber: 3, shipLength: 3, shipName: 'Cruiser',  hitNumber: 0, sunkStatus: false},\r\n    {shipNumber: 4, shipLength: 2, shipName: 'Destroyer',  hitNumber: 0, sunkStatus: false}\r\n  ]);\r\n\r\n  const [computerGameGrid, setComputerGameGrid] = useState([\r\n    ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],\r\n    ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],\r\n    ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],\r\n    ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],\r\n    ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],\r\n    ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],\r\n    ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],\r\n    ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],\r\n    ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],\r\n    ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.']\r\n  ]);\r\n\r\n  const [computerShipYard, setComputerShipYard] = useState([\r\n    {shipNumber: 0, shipLength: 5, shipName: 'Aircraft Carrier', hitNumber: 0, sunkStatus: false},\r\n    {shipNumber: 1, shipLength: 4, shipName: 'Battleship',  hitNumber: 0, sunkStatus: false},\r\n    {shipNumber: 2, shipLength: 3, shipName: 'Submarine',  hitNumber: 0, sunkStatus: false},\r\n    {shipNumber: 3, shipLength: 3, shipName: 'Cruiser',  hitNumber: 0, sunkStatus: false},\r\n    {shipNumber: 4, shipLength: 2, shipName: 'Destroyer',  hitNumber: 0, sunkStatus: false}\r\n  ]);\r\n\r\n  const [playerPlacedShipsNumber, setPlayerPlacedShipsNumber] = useState(0);\r\n\r\n  const [winnerInfo, setWinnerInfo] = useState('');\r\n\r\n  const computerShipPlacementHandler = () => {\r\n    \r\n    const computerGameGridCopy = [\r\n      ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],\r\n      ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],\r\n      ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],\r\n      ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],\r\n      ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],\r\n      ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],\r\n      ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],\r\n      ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],\r\n      ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],\r\n      ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.']\r\n    ];\r\n\r\n    let placedShipsNumber = 0;\r\n\r\n    while (placedShipsNumber !== 5) {\r\n      let shipLength = computerShipYard[placedShipsNumber].shipLength;\r\n      let rowIndex = Math.floor(Math.random() * 10);\r\n      let columnIndex = Math.floor(Math.random() * 10);\r\n      let shipDirection = Math.floor(Math.random() * 10);\r\n\r\n      if (isPlacementAllowed(computerGameGridCopy, rowIndex, columnIndex, shipLength, shipDirection)) {\r\n        if (shipDirection%2 === 0) {\r\n          for (let i = 0; i < shipLength; i++) {\r\n            computerGameGridCopy[rowIndex] = [...computerGameGridCopy[rowIndex]];\r\n            computerGameGridCopy[rowIndex][columnIndex + i] = computerShipYard[placedShipsNumber].shipNumber;\r\n          }\r\n        } else {\r\n          for (let i = 0; i < shipLength; i++) {\r\n            computerGameGridCopy[rowIndex + i] = [...computerGameGridCopy[rowIndex + i]];\r\n            computerGameGridCopy[rowIndex + i][columnIndex] = computerShipYard[placedShipsNumber].shipNumber;\r\n          }\r\n        }\r\n        placedShipsNumber++;\r\n      }\r\n    }\r\n    setComputerGameGrid([...computerGameGridCopy]);\r\n  }\r\n\r\n  const isPlacementAllowed = (gameGrid, rowIndex, columnIndex, shipLength, shipDirection) => {\r\n    let checkNumber = 0;\r\n\r\n    if (shipDirection%2 === 0) {\r\n      if ((columnIndex + shipLength) > 10) {\r\n        return false;\r\n      }\r\n\r\n      for (let i = 0; i < shipLength; i++) {\r\n        if (isSquareFree(gameGrid, rowIndex, columnIndex + i)) {\r\n          checkNumber++;\r\n        }\r\n      }\r\n      if (checkNumber === shipLength) {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n\r\n    } else {\r\n      if ((rowIndex + shipLength) > 10) {\r\n        return false;\r\n      }\r\n\r\n      for (let i = 0; i < shipLength; i++) {\r\n        if (isSquareFree(gameGrid, rowIndex + i, columnIndex)) {\r\n          checkNumber++;\r\n        }\r\n      }\r\n      if (checkNumber === shipLength) {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    }\r\n  }\r\n\r\n  const isSquareFree = (gameGrid, rowIndex, columnIndex) => {\r\n    for (let i = -1; i <= 1; i++) {\r\n      for (let j = -1; j <= 1; j++) {\r\n        if (gameGrid[rowIndex + i] !== undefined && gameGrid[rowIndex + i][columnIndex + j] !== undefined) {\r\n          if (gameGrid[rowIndex + i][columnIndex + j] >= 0) {\r\n            return false;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n\r\n  useEffect(() => {\r\n    computerShipPlacementHandler();\r\n  }, [])\r\n\r\n  const computerShotGenerator = () => {\r\n    const rowIndexRandom = Math.floor(Math.random() * 10);\r\n    const columnIndexRandom = Math.floor(Math.random() * 10);\r\n\r\n    if (playerGameGrid[rowIndexRandom][columnIndexRandom] === 'M' || playerGameGrid[rowIndexRandom][columnIndexRandom] === 'X') {\r\n      computerShotGenerator();\r\n    } else {\r\n      const playerGameGridCopy = [...playerGameGrid];\r\n      playerGameGridCopy[rowIndexRandom] = [...playerGameGridCopy[rowIndexRandom]];\r\n      if (playerGameGrid[rowIndexRandom][columnIndexRandom] === '.') {\r\n        playerGameGridCopy[rowIndexRandom][columnIndexRandom] = 'M';\r\n        setPlayerGameGrid([...playerGameGridCopy]);\r\n      } else {\r\n        playerShipHitHandler(playerGameGridCopy[rowIndexRandom][columnIndexRandom]);\r\n        playerGameGridCopy[rowIndexRandom][columnIndexRandom] = 'X';\r\n        setPlayerGameGrid([...playerGameGridCopy]);\r\n      }\r\n    }\r\n  }\r\n\r\n  const playerShipHitHandler = (shipNumber) => {\r\n    const playerShipYardCopy = [...playerShipYard];\r\n    const hitNumberCopy = playerShipYardCopy[shipNumber].hitNumber;\r\n    playerShipYardCopy[shipNumber] = {...playerShipYardCopy[shipNumber], hitNumber: hitNumberCopy + 1};\r\n\r\n    if (playerShipYardCopy[shipNumber].hitNumber === playerShipYardCopy[shipNumber].shipLength) {\r\n      playerShipYardCopy[shipNumber] = {...playerShipYardCopy[shipNumber], sunkStatus: true};\r\n    }\r\n    setPlayerShipYard(playerShipYardCopy);\r\n  }\r\n\r\n  return (\r\n    <div className='gameBoard'>\r\n      <InfoBoard \r\n        setPlayerGameGrid={setPlayerGameGrid}\r\n        setPlayerShipYard={setPlayerShipYard}\r\n        setComputerGameGrid={setComputerGameGrid}\r\n        setComputerShipYard={setComputerShipYard}\r\n        setPlayerPlacedShipsNumber={setPlayerPlacedShipsNumber}\r\n        winnerInfo={winnerInfo}\r\n        setWinnerInfo={setWinnerInfo}\r\n        computerShipPlacementHandler={computerShipPlacementHandler}\r\n      />\r\n      <PlayerGrid \r\n        playerGameGrid={playerGameGrid}\r\n        setPlayerGameGrid={setPlayerGameGrid}\r\n        playerShipYard={playerShipYard}\r\n        setPlayerShipYard={setPlayerShipYard}\r\n        playerPlacedShipsNumber={playerPlacedShipsNumber}\r\n        setPlayerPlacedShipsNumber={setPlayerPlacedShipsNumber}\r\n        setWinnerInfo={setWinnerInfo}\r\n      />\r\n      <ComputerGrid\r\n        computerGameGrid={computerGameGrid}\r\n        setComputerGameGrid={setComputerGameGrid}\r\n        computerShipYard={computerShipYard}\r\n        setComputerShipYard={setComputerShipYard}\r\n        computerShotGenerator={computerShotGenerator}\r\n        playerPlacedShipsNumber={playerPlacedShipsNumber}\r\n        winnerInfo={winnerInfo}\r\n        setWinnerInfo={setWinnerInfo}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GameBoard;"]},"metadata":{},"sourceType":"module"}